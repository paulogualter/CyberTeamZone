#!/bin/bash

# Script para atualizar Node.js para versÃ£o 22
echo "ğŸš€ Atualizando Node.js para versÃ£o 22..."

# Verificar se nvm estÃ¡ instalado
if ! command -v nvm &> /dev/null; then
    echo "âŒ NVM nÃ£o encontrado. Instalando NVM..."
    curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
    export NVM_DIR="$HOME/.nvm"
    [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
fi

# Instalar Node.js 22
echo "ğŸ“¦ Instalando Node.js 22..."
nvm install 22
nvm use 22
nvm alias default 22

# Verificar versÃ£o
echo "âœ… Node.js atualizado para:"
node --version
npm --version

# Reinstalar dependÃªncias
echo "ğŸ”„ Reinstalando dependÃªncias..."
rm -rf node_modules package-lock.json
npm install

echo "ğŸ‰ AtualizaÃ§Ã£o concluÃ­da!"
echo "ğŸ’¡ Para usar Node.js 22 em novos terminais, execute: nvm use 22"
